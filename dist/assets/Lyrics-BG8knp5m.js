import{d as x,B as b,r as w,i as C,E as p,c as V,a as n,g as z,h as B,A as E,k as a,b as r,w as l,e as m,o as d,_ as A}from"./index-CnQ5Sg1B.js";import{q as I,i as o,e as L}from"./api-BUtp0CYo.js";const N={class:"main"},M=x({__name:"Lyrics",setup(S){const _=b(),{id:c}=_.params,s=w("");C(async()=>{const e=await I(c,"lyrics").catch(i);s.value=e.lyrics});async function y(){await L(c,{lyrics:s.value}).catch(i),f()}async function i(e){return p({message:e.msg,type:"error"}),Promise.reject(e)}function f(e="更新成功！"){p({message:e,type:"success"})}return(e,t)=>{const g=r("el-input"),u=r("el-button"),v=r("router-link");return d(),V("div",N,[n(g,{type:"textarea",modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=k=>s.value=k),resize:"none",autosize:a(o)(),readonly:!a(o)(),class:E(a(o)()?"area":"view")},null,8,["modelValue","autosize","readonly","class"]),a(o)()?(d(),z(u,{key:0,type:"primary",onClick:y},{default:l(()=>t[1]||(t[1]=[m("保存")])),_:1})):B("",!0),n(v,{to:{name:"Index"}},{default:l(()=>[n(u,{class:"global-float-button",type:"warning"},{default:l(()=>t[2]||(t[2]=[m("返回")])),_:1})]),_:1})])}}}),D=A(M,[["__scopeId","data-v-f453be66"]]);export{D as default};
