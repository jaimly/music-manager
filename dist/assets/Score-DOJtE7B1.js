import{i as b}from"./api-DkxZQJ3Z.js";import{_ as g}from"./UploadScore.vue_vue_type_script_setup_true_lang-Dg6bjhbR.js";import{d as k,r as a,i as x,c as w,h as C,m as S,a as s,k as y,b as l,w as m,e as N,o as _,_ as B}from"./index-BXZU-0Ea.js";const V=k({__name:"Score",setup($){const r=a(""),t=a(""),c=a(""),n=a([]);let e={};x(()=>{e=history.state.song,r.value=e.id,c.value=e.name,t.value=u(e.score),n.value=[t.value]});const d=o=>{t.value=u(o),n.value=[t.value],e.score=o,history.replaceState({song:e},"")},u=o=>`${o}?t=${Date.now()}`;return(o,i)=>{const p=l("el-image"),v=l("el-button"),f=l("router-link");return _(),w("div",null,[y(b)()?(_(),C(g,{key:0,class:"upload",btnName:"更换",btnClass:"global-float-button",id:r.value,name:c.value,onSuccess:d},null,8,["id","name"])):S("",!0),s(p,{src:t.value,"z-index":999,"preview-src-list":n.value},null,8,["src","preview-src-list"]),s(f,{to:{name:"Index"}},{default:m(()=>[s(v,{class:"global-float-button",type:"warning"},{default:m(()=>i[0]||(i[0]=[N("返回")])),_:1})]),_:1})])}}}),z=B(V,[["__scopeId","data-v-fdce835f"]]);export{z as default};
