import{d as b,C as x,r as C,i as w,E as m,c as V,a,h as B,m as E,B as z,k as o,b as n,w as l,e as p,o as d,_ as I}from"./index-BXZU-0Ea.js";import{k as L,i as r,d as N}from"./api-DkxZQJ3Z.js";const A={class:"main"},M=b({__name:"Lyrics",setup(S){const _=x(),{id:c}=_.params,s=C("");w(async()=>{const e=await L(c,"lyrics").catch(i);s.value=e.lyrics});async function y(){await N(c,{lyrics:s.value}).catch(i),f()}async function i(e){return m({message:e.msg,type:"error"}),Promise.reject(e)}function f(e="更新成功！"){m({message:e,type:"success"})}return(e,t)=>{const g=n("el-input"),u=n("el-button"),k=n("router-link");return d(),V("div",A,[a(g,{type:"textarea",modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=v=>s.value=v),resize:"none",autosize:"",clearable:"",readonly:!o(r)(),class:z(o(r)()?"":"view")},null,8,["modelValue","readonly","class"]),o(r)()?(d(),B(u,{key:0,type:"primary",onClick:y},{default:l(()=>t[1]||(t[1]=[p("保存")])),_:1})):E("",!0),a(k,{to:{name:"Index"}},{default:l(()=>[a(u,{class:"global-float-button",type:"warning"},{default:l(()=>t[2]||(t[2]=[p("返回")])),_:1})]),_:1})])}}}),P=I(M,[["__scopeId","data-v-2054bcfe"]]);export{P as default};
