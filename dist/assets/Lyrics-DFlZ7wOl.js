import{d as x,A as b,r as w,i as C,E as p,c as V,a as n,g as z,h as E,z as A,k as o,b as r,w as l,e as m,o as d,_ as B}from"./index-CXusQ3fP.js";import{n as I,i as a,e as L}from"./api-Dk0gpnzL.js";const N={class:"main"},M=x({__name:"Lyrics",setup(S){const _=b(),{id:c}=_.params,s=w("");C(async()=>{const e=await I(c,"lyrics").catch(i);s.value=e.lyrics});async function y(){await L(c,{lyrics:s.value}).catch(i),f()}async function i(e){return p({message:e.msg,type:"error"}),Promise.reject(e)}function f(e="更新成功！"){p({message:e,type:"success"})}return(e,t)=>{const g=r("el-input"),u=r("el-button"),v=r("router-link");return d(),V("div",N,[n(g,{type:"textarea",modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=k=>s.value=k),resize:"none",autosize:o(a)(),readonly:!o(a)(),class:A(o(a)()?"":"view")},null,8,["modelValue","autosize","readonly","class"]),o(a)()?(d(),z(u,{key:0,type:"primary",onClick:y},{default:l(()=>t[1]||(t[1]=[m("保存")])),_:1})):E("",!0),n(v,{to:{name:"Index"}},{default:l(()=>[n(u,{class:"global-float-button",type:"warning"},{default:l(()=>t[2]||(t[2]=[m("返回")])),_:1})]),_:1})])}}}),P=B(M,[["__scopeId","data-v-d0768f0b"]]);export{P as default};
