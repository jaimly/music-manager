import{d as g,f as a,g as b,i as x,c as k,j as w,b as s,l as C,p as S,r as l,w as m,e as y,F as N,o as _}from"./index-CHf2SpZO.js";import{_ as B}from"./UploadScore.vue_vue_type_script_setup_true_lang-QCENDa5r.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";const $=g({__name:"Score",setup(F){const r=a(""),t=a(""),c=a(""),n=a([]);let e={};b(()=>{e=history.state.song,r.value=e.id,c.value=e.name,t.value=u(e.score),n.value=[t.value]});const p=o=>{t.value=u(o),n.value=[t.value],e.score=o,history.replaceState({song:e},"")},u=o=>`${o}?t=${Date.now()}`;return(o,i)=>{const d=l("el-image"),f=l("el-button"),v=l("router-link");return _(),x(N,null,[C(S)()?(_(),k(B,{key:0,class:"upload",btnName:"更换",btnClass:"global-float-button",id:r.value,name:c.value,onSuccess:p},null,8,["id","name"])):w("",!0),s(d,{src:t.value,"z-index":999,"preview-src-list":n.value},null,8,["src","preview-src-list"]),s(v,{to:{name:"Index"}},{default:m(()=>[s(f,{class:"global-float-button",type:"warning"},{default:m(()=>i[0]||(i[0]=[y("返回")])),_:1})]),_:1})],64)}}}),j=V($,[["__scopeId","data-v-5a9ffd1a"]]);export{j as default};
