import{d as b,A as x,r as w,i as C,E as p,c as V,a,g as z,h as E,z as A,k as o,b as n,w as l,e as m,o as d,_ as B}from"./index-CBxjC3jL.js";import{n as I,i as r,e as L}from"./api-Dk0gpnzL.js";const N={class:"main"},M=b({__name:"Lyrics",setup(S){const _=x(),{id:c}=_.params,s=w("");C(async()=>{const e=await I(c,"lyrics").catch(i);s.value=e.lyrics});async function y(){await L(c,{lyrics:s.value}).catch(i),f()}async function i(e){return p({message:e.msg,type:"error"}),Promise.reject(e)}function f(e="更新成功！"){p({message:e,type:"success"})}return(e,t)=>{const g=n("el-input"),u=n("el-button"),v=n("router-link");return d(),V("div",N,[a(g,{type:"textarea",modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=k=>s.value=k),resize:"none",autosize:"",clearable:"",readonly:!o(r)(),class:A(o(r)()?"":"view")},null,8,["modelValue","readonly","class"]),o(r)()?(d(),z(u,{key:0,type:"primary",onClick:y},{default:l(()=>t[1]||(t[1]=[m("保存")])),_:1})):E("",!0),a(v,{to:{name:"Index"}},{default:l(()=>[a(u,{class:"global-float-button",type:"warning"},{default:l(()=>t[2]||(t[2]=[m("返回")])),_:1})]),_:1})])}}}),P=B(M,[["__scopeId","data-v-2054bcfe"]]);export{P as default};
